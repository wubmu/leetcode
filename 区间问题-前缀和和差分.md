## 区间问题

对于各类「区间求和」问题，该用什么方式进行求解，之前在 这里 提到过。

此处可以再总结一下（加粗字体为最佳方案）：

- 数组不变，区间查询：**前缀和**、树状数组、线段树；
- 数组单点修改，区间查询：**树状数组**、线段树；
- 数组区间修改，单点查询：**差分**、线段树；
- 数组区间修改，区间查询：**线段树**。



### 差分数组

使用场景

- 要求一： 将区间$[l,r]$ +val、

$diff[l] +val$:表示$[l,...]+ val$

$diff[r+1]-val$:表示$[j+1,...]-val$



> diff[i] += 3  意味着 nums[i,...] 所有元素都加了3
>
> diff[j+1] -= 3  意味着 nums[j+1,...] 所有元素减去了3
>
> 综合起来 num[i,j] 所有元素增加了3

**总结**：改变区间$[l,r]$的值，只需要进行$diff[l] += val; diff[r + 1] -= val$

**注**：当`r >= diff.length`时，不需要进行`diff[r + 1] -= val`操作

| **题目**                                                     | **题解** | **难度** |      |
| ------------------------------------------------------------ | -------- | -------- | ---- |
| [995. K 连续位的最小翻转次数](https://leetcode-cn.com/problems/minimum-number-of-k-consecutive-bit-flips/) |          | 困难     |      |
| [1109. 航班预订统计](https://leetcode-cn.com/problems/corporate-flight-bookings/) |          | 中等     |      |
| [1094. 拼车](https://leetcode.cn/problems/car-pooling/)      |          |          |      |

